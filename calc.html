<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <!-- Solar Maintenance Savings – With Advanced Toggle -->
        <style>
            .solar-card {
                font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI,
                    Roboto, Helvetica, Arial;
                max-width: 760px;
                margin: 0 auto;
                border: 1px solid #e5e7eb;
                border-radius: 16px;
                padding: 22px;
                box-shadow: 0 6px 24px rgba(0, 0, 0, 0.06);
            }
            .ttl {
                font-size: 1.4rem;
                font-weight: 800;
                margin: 0 0 6px;
            }
            .sub {
                color: #6b7280;
                margin: 0 0 16px;
            }
            .blk {
                border: 1px solid #e5e7eb;
                border-radius: 14px;
                padding: 16px;
                margin-top: 10px;
            }
            .lbl {
                display: flex;
                justify-content: space-between;
                font-weight: 600;
            }
            .stat {
                border: 1px solid #e5e7eb;
                border-radius: 12px;
                padding: 12px;
            }
            .row {
                display: grid;
                grid-template-columns: 1fr 1fr 1fr;
                gap: 12px;
            }
            .k {
                color: #6b7280;
                font-size: 0.85rem;
            }
            .v {
                font-weight: 800;
                font-size: 1.2rem;
            }
            .cta {
                display: block;
                width: 100%;
                padding: 12px 16px;
                border-radius: 12px;
                border: 0;
                background: #111827;
                color: #fff;
                font-weight: 700;
                cursor: pointer;
                margin-top: 12px;
            }
            .fine {
                color: #6b7280;
                font-size: 0.8rem;
                margin-top: 8px;
            }

            /* Advanced section */
            .adv-toggle {
                cursor: pointer;
                color: #2563eb;
                font-size: 0.9rem;
                margin-top: 10px;
                text-decoration: underline;
            }
            .adv-box {
                display: none;
                margin-top: 10px;
                border: 1px solid #e5e7eb;
                border-radius: 14px;
                padding: 16px;
            }
            .adv-box input {
                width: 100%;
                padding: 8px;
                border: 1px solid #d1d5db;
                border-radius: 8px;
                margin-top: 6px;
            }
        </style>

        <div class="solar-card" id="solar-simple">
            <div class="ttl">
                How much could maintenance save you each year?
            </div>
            <p class="sub">
                Slide to your system size. We use UK norms: 850 kWh/kW/yr
                baseline, +20% boost from maintenance, and £0.30/kWh.
            </p>

            <!-- Slider -->
            <div class="blk">
                <div class="lbl">System size <span id="v-size">4 kW</span></div>
                <input
                    id="size"
                    type="range"
                    min="1"
                    max="20"
                    step="0.5"
                    value="4"
                    style="width: 100%; margin-top: 10px"
                />
            </div>

            <!-- Advanced toggle -->
            <div class="adv-toggle" id="adv-btn">Advanced settings</div>

            <!-- Advanced settings -->
            <div class="adv-box" id="adv-box">
                <label>Unit price (p/kWh)</label>
                <input id="adv-price" type="number" step="0.01" value="0.30" />

                <label style="margin-top: 10px">Expected uplift (%)</label>
                <input id="adv-uplift" type="number" step="1" value="20" />
            </div>

            <!-- Output -->
            <div class="blk">
                <div class="row">
                    <div class="stat">
                        <div class="k">Baseline production</div>
                        <div id="s-base" class="v">–</div>
                    </div>
                    <div class="stat">
                        <div class="k">Extra energy (+20%)</div>
                        <div id="s-extra" class="v">–</div>
                    </div>
                    <div class="stat">
                        <div class="k">£ saving per year</div>
                        <div id="s-saving" class="v">–</div>
                    </div>
                </div>

                <button class="cta" id="cta">
                    Get my free solar health check
                </button>

                <div class="fine">
                    Assumptions: 850 kWh/kW/yr; uplift varies; price varies.
                    Actual results depend on your roof.
                </div>
            </div>
        </div>

        <script>
            (function () {
                const YIELD_PER_KW = 850;

                const $ = (id) => document.getElementById(id);
                const nf = new Intl.NumberFormat("en-GB", {
                    maximumFractionDigits: 0,
                });
                const cf = new Intl.NumberFormat("en-GB", {
                    style: "currency",
                    currency: "GBP",
                });

                function calc() {
                    const kw = Number($("size").value);

                    const upliftPercent = Number($("adv-uplift").value) / 100;
                    const price = Number($("adv-price").value);

                    const base = kw * YIELD_PER_KW;
                    const extra = base * upliftPercent;
                    const saving = extra * price;

                    $("v-size").textContent = kw + " kW";
                    $("s-base").textContent = nf.format(base) + " kWh/yr";
                    $("s-extra").textContent =
                        "+" + nf.format(extra) + " kWh/yr";
                    $("s-saving").textContent = cf.format(saving);
                }

                $("size").addEventListener("input", calc);
                $("adv-price").addEventListener("input", calc);
                $("adv-uplift").addEventListener("input", calc);

                $("adv-btn").addEventListener("click", () => {
                    $("adv-box").style.display =
                        $("adv-box").style.display === "block"
                            ? "none"
                            : "block";
                });

                $("cta").addEventListener("click", () => {
                    location.href = "#contact";
                });

                calc();
            })();
        </script>
    </body>
</html>
